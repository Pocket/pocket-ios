fragment SavedItemParts on SavedItem {
  itemId: id
  url
  isArchived
  isFavorite
  _deletedAt
  _createdAt
  item {
    ...ItemParts
    ...PendingItemParts
  }
}

fragment ItemParts on Item {
  title
  language
  topImageUrl
  timeToRead
  domain
  particleJson
  domainMetadata {
    name
    logo
  }
  images {
    height
    width
    src
    imageId
  }
}

fragment PendingItemParts on PendingItem {
  url
  status
}

query UserByToken($token: String!, $pagination: PaginationInput, $savedItemsFilter: SavedItemsFilter) {
  userByToken(token: $token) {
    savedItems(pagination: $pagination, filter: $savedItemsFilter) {
      pageInfo {
        hasNextPage
        endCursor
      }
      edges {
        cursor
        node {
          ...SavedItemParts
        }
      }
    }
  }
}

mutation FavoriteItem($itemID: ID!) {
  updateSavedItemFavorite(id: $itemID) {
    id
  }
}

mutation UnfavoriteItem($itemID: ID!) {
  updateSavedItemUnFavorite(id: $itemID) {
    id
  }
}

mutation ArchiveItem($itemID: ID!) {
  updateSavedItemArchive(id: $itemID) {
    id
  }
}

mutation DeleteItem($itemID: ID!) {
  deleteSavedItem(id: $itemID)
}
